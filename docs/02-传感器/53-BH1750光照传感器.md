
### **BH1750 环境光传感器模块 Arduino 介绍资料**

#### **1. 概述**

BH1750 是一种用于 Arduino 或其他微控制器的数字环境光传感器（Ambient Light Sensor）。其核心是一颗由罗姆（ROHM）半导体生产的 BH1750FVI 芯片。它可以直接通过 I2C 总线输出数字光照度信号，无需额外的模拟-数字转换电路。

该传感器能够测量类似人眼感知的环境光照强度（单位：勒克斯 Lux），广泛应用于自动背光调节（如手机、液晶显示器）、农业光照监测、智能家居（自动灯光控制）、气象站等需要根据环境光线自动调整的设备中。

常见的 Arduino 模块通常集成了 BH1750 芯片和必要的上拉电阻，引脚排列为标准的 VCC、GND、SCL、SDA，有些模块还带有额外的 ADDR 地址选择引脚。

![BH1750 Module](https://i.imgur.com/5XjJh7l.png) *(注：此处为示例图片链接，实际使用时请替换或删除)*

#### **2. 特点**

*   **数字输出**：采用 I2C 数字接口，抗干扰能力强，连线简单（仅需2条数据线）。
*   **高精度**：支持 1 - 65535 lx 的高分辨率测量，精度高。
*   **无需外围元件**：内部集成了光电二极管、运算放大器和 ADC，无需额外的模拟电路。
*   **接近视觉灵敏度**：其光谱特性接近人眼反应，测量结果更符合人体感知。
*   **低功耗**：支持功率下降模式，在不测量时可大幅降低功耗。
*   **抗红外干扰**：内部设计有效抑制了50/60Hz的工频闪烁和红外噪声。
*   **两种测量模式**：
    *   **一次测量模式**：测量一次后自动进入功率下降模式，适用于低功耗应用。
    *   **连续测量模式**：持续进行测量，数据更新快。
*   **可调分辨率**：通过指令可以选择高分辨率模式（0.5 lx）或低分辨率模式（1 lx），并在高分辨率下选择不同的测量时间以适配各种环境。

#### **3. 技术参数**

| 参数 | 值/描述 |
| :--- | :--- |
| **供电电压 (VCC)** | 3.3V - 5V （与 Arduino 工作电压完美兼容） |
| **通信接口** | I2C （IIC） 总线 |
| **I2C 地址** | 默认地址 `0x23`（ADDR 引脚悬空或接低电平）<br>可选地址 `0x5C`（ADDR 引脚接高电平） |
| **测量范围** | 0 - 65535 lx （勒克斯） |
| **最小误差** | ±20% （典型值，与具体光源有关） |
| **分辨率** | 高精度模式：0.5 lx @ 120ms<br>标准模式：1 lx @ 120ms |
| **功耗** | 主动模式：约 0.12mA<br>功率下降模式：约 0.01mA |
| **封装** | 常见为模块化PCB，带4个（或5个）插针 |

#### **4. 接线说明 (Arduino Uno)**

将 BH1750 模块与 Arduino Uno 连接非常简单，仅需4根线：

| BH1750 模块引脚 | Arduino Uno 引脚 |
| :-------------- | :--------------- |
| VCC (或 VIN)    | 5V (或 3.3V)     |
| GND             | GND              |
| SCL             | A5 (或 SCL 引脚) |
| SDA             | A4 (或 SDA 引脚) |
| ADDR (如有)     | 悬空（默认地址）或接VCC/GND以更改地址 |

**注意**：部分 Arduino 板卡的 I2C 引脚位置不同，请根据您的板卡型号确认 SDA 和 SCL 引脚。

#### **5. 示例程序**

要使用 BH1750，你需要先安装库文件。以下是使用 `BH1750.h` 库的简单示例。

1.  **安装库**：在 Arduino IDE 中，点击「项目」->「加载库」->「管理库...」，搜索 "**BH1750**"，选择由 **Christopher Laws** 开发的库进行安装。
2.  **示例代码**：

```cpp
#include <Wire.h>
#include <BH1750.h>

// 创建传感器对象
BH1750 lightMeter;

void setup() {
  // 初始化串口通信
  Serial.begin(9600);
  
  // 初始化 I2C 总线 (Wire)
  Wire.begin();
  
  // 初始化传感器
  lightMeter.begin();
  
  Serial.println(F("BH1750 Test Begin"));
}

void loop() {
  // 读取光照值
  float lux = lightMeter.readLightLevel();
  
  // 将读数输出到串口监视器
  Serial.print("Light: ");
  Serial.print(lux);
  Serial.println(" lx");
  
  delay(1000); // 每秒读取一次
}
```

3.  **运行与调试**：
    * 将代码上传到 Arduino。
    * 打开 Arduino IDE 的「工具」->「串口监视器」（波特率设置为 9600）。
    * 你应该会看到每秒输出一次的光照强度数据。用手遮挡传感器或用手电筒照射它，可以看到数值的明显变化。

#### **6. 库文件地址**

除了通过 Arduino IDE 的库管理器安装，你也可以从下面的地址手动下载并安装：

*   **GitHub 仓库地址**：
    [https://github.com/claws/BH1750](https://github.com/claws/BH1750)

这是目前最流行和维护良好的 BH1750 Arduino 库。在仓库的 `examples` 文件夹中，你还可以找到更多高级示例，例如设置不同测量模式的用法。

---

**使用提示**：
*   传感器的测量结果会受到光源类型（日光、白炽灯、荧光灯）和安装角度的影响，这是物理特性所致。
*   确保 I2C 线路连接牢固，如果无法读取数据，请检查接线和 I2C 地址。
*   如需连接多个相同器件，请使用 ADDR 引脚来修改它们的 I2C 地址以避免冲突。