

### **TC118 小型电机驱动模块 Arduino 介绍资料**

#### **1. 概述**

TC118 是一款紧凑型、低电压、低成本的单通道直流电机驱动芯片。它内部集成了两个MOSFET组成的H桥电路，可以方便地驱动一个小型直流电机进行**正转、反转、停止和刹车**。

常见的 Arduino 模块将 TC118 芯片及其必要外围电路集成在一个小板上，并引出 4 个引脚（+， -， A， B）。该模块专为驱动工作电压在 **3V** 左右的小功率电机（如玩具小车电机、小型风扇等）而设计，可以直接由 Arduino 的 I/O 口控制，无需额外的驱动电源，非常简便。

![TC118 Module](https://i.imgur.com/xy6Z8vG.png) *(注：此处为示例图片链接，实际使用时请替换或删除)*

#### **2. 特点**

*   **低电压驱动**：完美支持 3V 左右的小型直流电机。
*   **接口简单**：仅需 4 个引脚，连接方便。
*   **控制简单**：仅需两个 Arduino 数字引脚即可实现电机的全部控制功能（正转/反转/停止/刹车）。
*   **内置H桥**：单芯片集成完整的H桥驱动电路，可控制电机方向。
*   **低功耗**：静态工作电流低。
*   **保护功能**：芯片内部集成了过热关断（TSD）和低压检测（UVLO）等保护功能。
*   **小巧廉价**：模块体积小，成本极低，适用于小型化项目。

#### **3. 技术参数**

| 参数 | 值/描述 |
| :--- | :--- |
| **电机驱动电压 (VCC)** | **2.0V ~ 6.0V** （典型 3V） |
| **逻辑控制电压 (VIN)** | 1.8V ~ 6.0V （与 Arduino 3.3V 或 5V I/O 口完美兼容） |
| **连续输出电流** | **~800 mA** （驱动小型电机绰绰有余） |
| **峰值输出电流** | ~1.2 A |
| **控制方式** | 双逻辑电平输入（INA, INB） |
| **静态待机电流** | < 1 µA （超低功耗） |
| **保护功能** | 过热关断（TSD）、欠压锁定（UVLO） |

#### **4. 引脚定义与接线说明**

**模块引脚定义**：
*   **+**： 接 **电机电源正极**（2V - 6V）。如需驱动3V电机，则接3V电源正极。
*   **-**： 接 **电机电源负极**（GND）。
*   **A**： 接 **Arduino 控制引脚 1**（如 Digital 10）。
*   **B**： 接 **Arduino 控制引脚 2**（如 Digital 11）。

**Arduino 接线示意图**：
*(以驱动一个3V小电机为例)*

| TC118 模块引脚 | 连接目标 |
| :-------------- | :--------------- |
| **+** | 3V 外部电源 **正极** *（或 Arduino 3.3V 引脚）* |
| **-** | 3V 外部电源 **负极** 和 Arduino **GND** |
| **A** | Arduino **数字引脚 10** (或其他任意数字引脚) |
| **B** | Arduino **数字引脚 11** (或其他任意数字引脚) |

**重要提示**：
*   **电源选择**：虽然可以直接使用 Arduino 的 3.3V 引脚为**一个**小电机供电，但**强烈建议**使用**独立的 3V 电池盒或其他电源**为电机供电（共地即可），以避免电机干扰或电流过大导致 Arduino 板复位或损坏。
*   **共地**：必须将外部电源的负极（-）与 Arduino 的 GND 连接在一起，为控制信号提供共同的参考地。

#### **5. 控制逻辑与示例程序**

TC118 通过输入引脚 **A** 和 **B** 的逻辑电平组合来控制电机状态：

| 输入 A | 输入 B | 电机状态 | 功能说明 |
| :----: | :----: | :--- | :--- |
| **HIGH** | **LOW** | 正转 | 电流从 + → 电机 → - |
| **LOW** | **HIGH** | 反转 | 电流从 - → 电机 → + |
| **LOW** | **LOW** | **停止/空闲** | 电机自由停止 |
| **HIGH** | **HIGH** | **刹车** | 电机快速停止 |

**示例程序**：

以下程序让电机按 **正转2秒 -> 停止1秒 -> 反转2秒 -> 刹车1秒** 的循环运行。

```cpp
// 定义TC118模块的控制引脚连接
const int pin_A = 10; // 连接模块的 A 引脚
const int pin_B = 11; // 连接模块的 B 引脚

void setup() {
  // 设置两个控制引脚为输出模式
  pinMode(pin_A, OUTPUT);
  pinMode(pin_B, OUTPUT);

  // 初始化状态：停止电机
  digitalWrite(pin_A, LOW);
  digitalWrite(pin_B, LOW);
}

void loop() {
  // 1. 电机正转
  Serial.println("Motor: FORWARD");
  digitalWrite(pin_A, HIGH);
  digitalWrite(pin_B, LOW);
  delay(2000); // 运行2秒

  // 2. 电机停止（空闲）
  Serial.println("Motor: STOP/Coast");
  digitalWrite(pin_A, LOW);
  digitalWrite(pin_B, LOW);
  delay(1000); // 停止1秒

  // 3. 电机反转
  Serial.println("Motor: REVERSE");
  digitalWrite(pin_A, LOW);
  digitalWrite(pin_B, HIGH);
  delay(2000); // 运行2秒

  // 4. 电机刹车
  Serial.println("Motor: BRAKE");
  digitalWrite(pin_A, HIGH);
  digitalWrite(pin_B, HIGH);
  delay(1000); // 刹车1秒
}
```

#### **6. 库文件地址**

**该模块不需要额外的库文件！**

TC118 模块的控制方式非常直接，只需要使用 Arduino 标准的 `digitalWrite()` 函数输出高低电平即可实现所有功能，因此无需安装任何特殊的库。这使得它的使用变得极其简单和轻量。

---

**使用提示与注意事项**：
*   **电源隔离**：为获得最佳性能并保护您的 Arduino 板，请务必为电机使用独立电源。
*   **电流限制**：确保您要驱动的小电机工作电流在 TC118 的额定范围内（持续电流 < 800mA）。堵转电流很容易超过此值，应避免电机轴被卡住。
*   **散热**：如果长时间工作在大电流下，芯片可能会发热。必要时可添加小型散热片。
*   **PWM调速**：您可以将控制引脚（A或B）连接到 Arduino 的 **PWM 引脚**（旁边有 ~ 符号的引脚，如 3, 5, 6, 9, 10, 11），并使用 `analogWrite(pin, speed)` 函数来调节电机的速度。例如，在正转时，对 `pin_A` 输出 PWM 信号，`pin_B` 保持 LOW，即可实现调速。