
### **TM1650 四位数码管显示模块 Arduino 介绍资料**

#### **1. 概述**

TM1650 是一种带键盘扫描接口的LED（发光二极管显示器）驱动控制专用电路芯片。它内部集成有MCU数字接口、数据锁存器、LED高压驱动、键盘扫描等电路，广泛应用于四位数码管显示及少量按键控制的场景。

市面上常见的四位数码管模块将TM1650芯片、4位共阳数码管、限流电阻等集成在一块小板上，仅引出 **4个引脚（VCC, GND, SCL, SDA）**。它采用 **I2C** 通信协议，极大简化了与Arduino的连线（仅需2个I/O口），并节省了单片机大量的驱动引脚，是替代传统的多引脚静态或动态扫描显示的优秀解决方案。

![TM1650 4-Digit Display Module](https://i.imgur.com/5XjJh7l.png) *(注：此处为示例图片链接，实际使用时请替换为TM1650模块图片)*

#### **2. 特点**

*   **接口简单**：采用I2C总线，仅需2个数字引脚即可控制，极大节省Arduino I/O资源。
*   **集成度高**：单芯片集成驱动、控制、按键扫描功能。
*   **显示稳定**：内部有恒流驱动和自动刷新电路，显示无闪烁。
*   **控制灵活**：可软件调节显示亮度（通常8级可调）。
*   **额外功能**：部分模块背面带有4个按键，TM1650可同时实现按键读取功能。
*   **应用广泛**：非常适合做时钟、计数器、温度显示、电压显示等。

#### **3. 技术参数**

| 参数 | 值/描述 |
| :--- | :--- |
| **供电电压 (VCC)** | **3.3V - 5V** （与 Arduino 工作电压完美兼容） |
| **通信接口** | I2C （IIC） 总线 |
| **I2C 地址** | 通常为 **0x34** (数据命令) 和 **0x24** (显示控制命令) *（地址因库而异）* |
| **显示内容** | 4位红色0.36英寸共阳数码管 |
| **驱动方式** | 动态扫描，恒流驱动 |
| **亮度调节** | 软件可调，通常支持8级亮度 |
| **额外功能** | 可支持最多4x4=16个按键扫描（如果模块有引出按键引脚） |

#### **4. 引脚定义与接线说明 (以 Arduino Uno 为例)**

**模块引脚定义**（通常为4针）：
*   **VCC**： 电源正极（接 5V 或 3.3V）
*   **GND**： 电源地（接 GND）
*   **SCL (CLK)**： I2C 时钟线
*   **SDA (DIO)**： I2C 数据线

**Arduino Uno 接线示意图**：

| TM1650 模块引脚 | Arduino Uno 引脚 |
| :-------------- | :--------------- |
| **VCC**         | **5V** (或 3.3V) |
| **GND**         | **GND**          |
| **SCL (CLK)**   | **A5** (或 SCL)  |
| **SDA (DIO)**   | **A4** (或 SDA)  |

**注意**：接线非常简单，只需4根线。确保连接牢固即可。

#### **5. 库文件安装与示例程序**

要方便地控制TM1650模块，最好使用专用的Arduino库。

**1. 安装库文件**：
在 Arduino IDE 中，点击「项目」->「加载库」->「管理库...」，搜索 "**TM1650**"。有几个常用的库，例如：
*   **`TM1650`** by **Avishay Orpaz** (推荐，简单易用)
*   **`Grove_4Digital_Display`** (如果模块来自Seeed Studio)

选择其中一个进行安装。以下示例以 **Avishay Orpaz** 的库为例。

**2. 示例程序 1：显示数字和字符串**

```cpp
#include <TM1650.h> // 包含TM1650库

// 初始化一个TM1650显示对象
TM1650 display;

void setup() {
  Serial.begin(9600);
  
  // 初始化显示模块
  display.init();
  
  // 设置显示亮度（0-7，7最亮）
  display.set(BRIGHTEST); // BRIGHT_TYPICAL = 2, BRIGHT_DARKEST = 0, BRIGHTEST = 7
  
  // 清空显示
  display.clearDisplay();
  delay(1000);
  
  Serial.println("TM1650 四位数码管测试开始...");
}

void loop() {
  // 1. 显示整数（自动右对齐）
  display.displayInt(1234);
  delay(2000);
  
  // 2. 显示浮点数（会自动处理小数点）
  display.displayFloat(56.78);
  delay(2000);
  
  // 3. 在指定位置显示单个数字或字符
  // display.displayDot(position, true/false); 控制小数点
  display.display(0, 'H'); // 第0位（最左边）显示'H'
  display.display(1, 'E'); // 第1位显示'E'
  display.display(2, 'L'); // 第2位显示'L'
  display.display(3, 'O'); // 第3位（最右边）显示'O'
  display.displayDot(1, true); // 在第1位后显示小数点，形成"H E.L O"
  delay(2000);
  
  // 4. 显示带负号的数字
  display.displayInt(-31);
  delay(2000);
  
  // 5. 清屏
  display.clearDisplay();
  delay(1000);
}
```

**3. 示例程序 2：制作一个简易计数器**

```cpp
#include <TM1650.h>

TM1650 display;
int count = 0;

void setup() {
  display.init();
  display.set(BRIGHT_TYPICAL); // 设置为典型亮度
  display.clearDisplay();
  display.displayInt(0); // 从0开始显示
}

void loop() {
  // 每秒计数加1
  display.displayInt(count);
  count++;
  
  delay(1000);
}
```

#### **6. 库文件地址**

*   **Avishay Orpaz 的 TM1650 库 GitHub 地址**：
    [https://github.com/avishorp/TM1650](https://github.com/avishorp/TM1650)



#### **7. 字符显示对照表**

TM1650库通常内置了字符编码，可以直接显示以下字符：
| 字符 | 显示效果 | 备注 |
| :--: | :------: | :--- |
| 0-9 | 0, 1, 2, ... 9 | 数字 |
| A-Z | A, b, C, d, E, F, etc. | 不区分大小写，但有些字母显示类似（如`b`和`6`） |
| - | - | 负号 |
| . | . | 小数点（需单独控制） |
| 空格 | 不显示 | 用于清空某一位 |

**常见显示效果**：
*   `12.34` -> `12.34`
*   `-5.6` -> `-5.6`
*   `HELLO` -> `H E L L O` (可能无法完美显示所有字母)

---

**使用提示与注意事项**：
*   **库的差异**：不同库的API函数可能略有不同（如设置亮度的函数名），请根据你安装的库的示例代码进行调整。
*   **亮度调节**：在电池供电的应用中，降低亮度可以有效节能。
*   **过热**：长时间以最高亮度显示全亮内容（如`8888`）可能会导致芯片发热，属正常现象。
*   **按键功能**：如果你的模块带按键，需要查阅库的文档或示例来了解如何读取按键值。